<?php
/**
 * @file
 * Contains formularios.module.
 */

use Drupal\Core\Routing\RouteMatchInterface;
use \Drupal\Core\Form\FormStateInterface;
use Drupal\Core\Form\ConfigFormBase;

/**
 * Theme hook
 */
function blocks_custom_theme($existing, $type, $theme, $path)
{
    return [
        'blocks_custom' =>
            [
                'variables' => [
                    'titulo' => 'Título por defecto',
                    'descripcion' => 'descripción por defecto',
                    'publicaciones' => NULL
                ],
                'template' => 'publications'
            ],
        'news_block_custom' =>
            [
                'variables' => [
                    'titulo' => 'Título por defecto',
                    'descripcion' => 'descripción por defecto',
                    'news' => NULL
                ],
                'template' => 'news'
            ],
        'filters_publications_block_custom' =>
            [
                'variables' => [
                    'titulo' => 'Título por defecto',
                    'descripcion' => 'descripción por defecto',
                    'year' => NULL,
                    'month' => NULL
                ],
                'template' => 'filters-publications'
            ],
        'categories_block_custom' =>
            [
                'variables' => [
                    'titulo' => 'Título por defecto',
                    'descripcion' => 'descripción por defecto',
                    'terms' => NULL,
                    'title' => NULL
                ],
                'template' => 'categories'
            ],
        'recent_publications_block_custom' =>
            [
                'variables' => [
                    'titulo' => 'Título por defecto',
                    'descripcion' => 'descripción por defecto',
                    'recents' => NULL,
                    'nid' => NULL
                ],
                'template' => 'recent-publications'
            ],
        'title_categories_block_custom' =>
            [
                'variables' => [
                    'titulo' => 'Título por defecto',
                    'descripcion' => 'descripción por defecto',
                    'title' => NULL
                ],
                'template' => 'title-publications'
            ],
        'reports_prime_block_custom' =>
            [
                'variables' => [
                    'titulo' => 'Título por defecto',
                    'descripcion' => 'descripción por defecto',
                    'reports' => NULL
                ],
                'template' => 'reports-prime'
            ],
        'paginator_reports_prime_block_custom' =>
            [
                'variables' => [
                    'titulo' => 'Título por defecto',
                    'descripcion' => 'descripción por defecto',
                    'reports' => NULL
                ],
                'template' => 'paginator-reports-prime'
            ],
        'filters_publications_block_custom' =>
            [
                'variables' => [
                    'titulo' => 'Título por defecto',
                    'descripcion' => 'descripción por defecto',
                    'user' => NULL
                ],
                'template' => 'menu-prime'
            ]
    ];
}

/*
*
*  hook_form_alter implement
*/
function blocks_custom_form_alter(&$form, FormStateInterface $form_state, $form_id)
{
    $pass = '';
    if ($form_id == 'user_register_form') {
        $register = '<a href="/user/login/" title="Inicio Sesión en Prime"
                class="btn secondary_colour_3-text primary_colour_1-bk">
                <span>Ya estoy inscrito. Iniciar Sesión</span>
                </a>';
        $text = '<p style="text-align: justify;">Regístrese&nbsp; en la&nbsp;<em><strong>Versión Prime</strong></em> y&nbsp;tenga acceso a información exclusiva sobre el <strong>Mercado de Gas Natural en Colombia</strong>.<br><br></p>';
        $titleForm = 'Diligencie la siguiente información:';
    }
    if ($form_id == 'user_login_form') {
        $pass = '<br><a href="/user/password">¿Olvido su contraseña?</a>';
        $register = '<a href="/user/register/" title="Registro a Prime"
                   class="btn secondary_colour_3-text primary_colour_1-bk">
                    <span>Aún no estoy inscrito, registrarme</span>
                </a>';
        $text = '<p style="text-align: justify;">Si ya está registrado, ingrese al&nbsp;<em><strong>Acceso
                        Prime</strong></em>&nbsp;con su correo electrónico (usuario)&nbsp;y contraseña, enviados
                porterior al Congreso Naturgas 2018</p>
            <p>&nbsp;</p>';
        $titleForm = 'Ingrese los Datos de Acceso a la Sección Prime:';
    }

    $prefix = '<div class="container">
        <div class="row">
            <div class="col-xs-12">
                <h1 class="heading">Acceso Prime</h1>
            </div>
        </div>
        <div class="row">
        <div id="left_col" class="col-sm-8" role="main">
            <p class="img-login-content" style="text-align: center;"></p>
            <p>&nbsp;</p>
            <p class="content-btn-register">
                '. $register.'
            </p>
            <p>&nbsp;</p>
            '. $text .'
            <div class="login-user-bk"><span class="legend-user-login">'. $titleForm .'</span>';
    $suffix = $pass .' </div></div>
        <div id="right_col" class="col-sm-4 col-lg-3 col-lg-offset-1" role="complementary">
                <div class="promo_pods ">
                    <div class="item panel panel-default even">
                        <div class="panel-body primary_colour_1-bg">
                            <a href="/sitios-de-interés/"><p class="heading secondary_colour_3-text">Sitios de Interés </p></a>
                            <div class="info">
                                <div class="text secondary_colour_3-text"><p>Conozca&nbsp;todas las entidades que hacen parte del sector del Gas Natural&nbsp;en Colombia.</p>
                                </div>
                                <p class="link"><a href="/sitios-de-interés/" class="btn primary_colour_2-bg secondary_colour_3-text">Ver todos</a></p>
                            </div>
                        </div>
                    </div>
                    <div class="item panel panel-default odd">
                        <div class="panel-body primary_colour_2-bg">
                            <p class="heading secondary_colour_3-text">Nuestras Oficinas </p>
                            <div class="info">
                                <div class="text secondary_colour_3-text">
                                    <p>Calle 113 No. 7-21<br>Piso 15 Torre A
                                        <br>Edif.&nbsp;Teleport Business Park
                                        <br>Pbx: +57(1) 629-2529
                                        <br>Bogotá D.C., Colombia
                                    </p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div></div><br><br><br>';

    if ($form_id == 'user_login_form') {
        $form['#prefix'] = $prefix;
        $form['name']['#title'] = 'Correo Electrónico (será su usuario) ';
        $form['pass']['#title'] = 'Contraseña';
        $form['#suffix'] = $suffix;
    }

    if ($form_id == 'user_register_form') {
        $form['#prefix'] = $prefix;
        $form['account']['mail']['#title'] =  'Correo Electrónico (será su usuario) ';
        $form['account']['name']['#title'] = 'Nombre Completo';
        $form['actions']['submit']['#value'] = 'Registrarme';
        $form['#suffix'] = $suffix;
    }

    if ($form_id == 'user_pass') {
        $form['#prefix'] = $prefix;
        $form['name']['#title'] = 'Correo Electrónico (será su usuario) ';
        $form['actions']['submit']['#value'] = 'Recuperar';
        $form['#suffix'] = $suffix;
    }
}
