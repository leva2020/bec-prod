{% set now = "now"|date("Y-m-d", "America/Bogota") %}
{% set yearAgo = "now"|date_modify("-1 year")|date("Y-m-d", "America/Bogota") %}

{% set info = enviar_post_ws('getInformaciontransaccionalSUVCP_CEN_UVCP_AN', 'fechaInicial=' ~yearAgo~ '&fechaFinal=' ~now~ '',1,1,'tipo_produccion','punto_de_entrada,desc_campo_prod','cantidad') %}

{# <link rel="stylesheet" type="text/css" href="http://www.bmcbec.com.co/App_Plugins/BECCharts/front-end/_bmcbec-charts.css">#}
{# <link rel="stylesheet" type="text/css" href="https://datatables.net/media/css/site.css">#}
<link rel="stylesheet" type="text/css"
      href="https://cdn.datatables.net/v/dt/jqc-1.12.4/jszip-3.1.3/pdfmake-0.1.27/dt-1.10.15/af-2.2.0/b-1.3.1/b-colvis-1.3.1/b-flash-1.3.1/b-html5-1.3.1/b-print-1.3.1/cr-1.3.3/fc-3.2.2/fh-3.1.2/kt-2.2.1/r-2.1.1/rg-1.0.0/rr-1.2.0/sc-1.4.2/se-1.2.2/datatables.min.css"/>
<script type="text/javascript"
        src="https://cdn.datatables.net/v/dt/jqc-1.12.4/jszip-3.1.3/pdfmake-0.1.27/dt-1.10.15/af-2.2.0/b-1.3.1/b-colvis-1.3.1/b-flash-1.3.1/b-html5-1.3.1/b-print-1.3.1/cr-1.3.3/fc-3.2.2/fh-3.1.2/kt-2.2.1/r-2.1.1/rg-1.0.0/rr-1.2.0/sc-1.4.2/se-1.2.2/datatables.min.js"></script>
{# <script type="text/javascript" src="src/js/tables.js"></script>#}
<link rel="stylesheet" type="text/css"
      href="http://www.bmcbec.com.co/App_Plugins/BECCharts/front-end/datePicker/css/datepicker.css">
<script type="text/javascript"
        src="http://www.bmcbec.com.co/App_Plugins/BECCharts/front-end/datePicker/js/bootstrap-datepicker.js"></script>

{{ attach_library('bmcbec/tables') }}
{{ attach_library('bmcbec/chartJS') }}

<div class="well" align="center">
    <div class="bmcbec-dp-left">
        <form method="post" action="">
            <input type="submit" name="quickDate" value="1m" class="bmcbec-dp-button"/>
            <input type="submit" name="quickDate" value="3m" class="bmcbec-dp-button"/>
            <input type="submit" name="quickDate" value="6m" class="bmcbec-dp-button"/>
            <input type="submit" name="quickDate" value="1a" class="bmcbec-dp-button"/>
        </form>
        <p class="helpText">Consulta r치pidamente desde un mes (1m) hasta un a침o (1a)</p>
    </div>
    <div class="bmcbec-dp-fix"></div>
</div>
<div class="bmcbec-fix"></div>

<!-- TABLE CONSTRUCTOR -->
<div class="table-holder">
    <!-- <h4>Tabla de Resultados</h4> -->
    <p class="alert alert-warning">Utilice las opciones de filtrado y ordenamiento para refinar los datos mostrados en
        la tabla.</p>
    <table id="ResultTable" class="table table-striped table-bordered" cellspacing="0" width="100%" align="center"
           data-page-length="20">
        <thead>
        <tr>
            <th>Fecha</th>
            <th>Precio Promedio Ponderado de la Adjudicaci칩n (USD/MBTU)</th>
            <th>Precio Promedio Ponderado Registro (USD/MBTU)</th>
        </tr>
        </thead>
        <tfoot>
        <tr>
            <th>Fecha</th>
            <th>Precio Promedio Ponderado de la Adjudicaci칩n (USD/MBTU)</th>
            <th>Precio Promedio Ponderado Registro (USD/MBTU)</th>
        </tr>
        </tfoot>
        <tbody>
        {% for key, data in info %}
            <tr valign="top" align="left">
                <td>{{ data.fecha }}</td>
                {% if data.ind_adj is not empty %}
                    <td align="right">{{ data.ind_adj }}</td>
                {% else %}
                    <td align="right">{{ data.precio_prom_adj }}</td>
                {% endif %}
                <td align="right" data-order="{{ data.precio_prom }}">{{ data.precio_prom }}</td>
            </tr>
        {% endfor %}
        </tbody>
    </table>
</div>

<!-- Begin - Export Option Table -->
<div id="table2export">
    <table id="ResultTable1"></table>
</div>
<!-- END - Export Option Table -->

<script type="text/javascript">
    $(document).ready(function () {
        $("#ResultTable thead").clone().appendTo("#ResultTable1");
        $("#ResultTable tfoot").clone().appendTo("#ResultTable1");
        $("#ResultTable tbody").clone().appendTo("#ResultTable1");
        dataTablesIni();
        datesFieldsValidation(395, 395);
    });
</script>
<!-- END OF TABLE CONSTRUCTOR -->

<script type="text/javascript">
    $('form').submit(function () {
        //return checkDateRange($('#dpd1').val(), $('#dpd2').val(), 365);
    });
    $(document).ready(function () {
        insertText(365);
    });
</script>
<style>
  .page-node-type-internas-graficas #ResultTable {
    border:none;
  }
  .page-node-type-internas-graficas #ResultTable tr td{border:none;}
  .page-node-type-internas-graficas #ResultTable tr:last-child td{border-bottom: 1px solid;}
  .page-node-type-internas-graficas table.dataTable tfoot th, table.dataTable tfoot td {
    padding: 10px 18px 6px 18px;
    border-top: 0px solid #111;
  }
  .page-node-type-internas-graficas .filter-graphic {
    border-bottom: 1px solid #e3e3e3;
  }
  .page-node-type-internas-graficas .well form input[type='text'], .page-node-type-internas-graficas .well form select, .page-node-type-internas-graficas #ResultTable_wrapper .dataTables_filter input {
    display: inline-block;
    font-size: 14px;
    line-height: 20px;
    color: #555555;
    vertical-align: middle;
    -webkit-border-radius: 4px;
    -moz-border-radius: 4px;
    border-radius: 4px;
    background-color: #ffffff;
    padding: 5px;
    text-align: center;
    border: 1px solid #cccccc;
    -webkit-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.075);
    -moz-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.075);
    box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.075);
    -webkit-transition: border linear 0.2s, box-shadow linear 0.2s;
    -moz-transition: border linear 0.2s, box-shadow linear 0.2s;
    -o-transition: border linear 0.2s, box-shadow linear 0.2s;
    transition: border linear 0.2s, box-shadow linear 0.2s;
  }
  .page-node-type-internas-graficas .well form input[type='submit']{
    border-radius: 4px;
  }
  .page-node-type-internas-graficas .content.advanced-component.text-with-image_video {
    background-color: rgb(245, 245, 245);
  }
  .page-node-type-internas-graficas .page_component .well{
    border:none;
    box-shadow: none;
    border-bottom: 1px solid #e3e3e3;}
  .page-node-type-internas-graficas .datepicker table {
    border:none;
  }
  .page-node-type-internas-graficas #site > section:nth-child(4){
    display:none;
  }

  .page-node-type-internas-graficas #site .content.advanced-component.grid{
    display:none;
  }

</style>
